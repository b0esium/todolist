(()=>{"use strict";class e{constructor(e,t,s,a){this.name=e,this.priority=t,this.deadline=s,this.taskID=a}}class t{static getTasks(){let e;return e=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks")),e}static addTask(e){const s=t.getTasks();s.push(e),localStorage.setItem("tasks",JSON.stringify(s))}static deleteTask(e){const s=t.getTasks();s.forEach(((t,a)=>{t.taskID===e&&s.splice(a,1)})),localStorage.setItem("tasks",JSON.stringify(s))}}class s{static displayTasks(){t.getTasks().forEach((e=>s.addTaskToList(e)))}static addTaskToList(e){const t=document.getElementById("task-list"),s=document.createElement("tr");s.innerHTML=`\n    <td>${e.name}</td>\n    <td>${e.priority}</td>\n    <td>${e.deadline}</td>\n    <td hidden>${e.taskID}</td>\n    <td><a href="#" class="btn btn-danger btn-sm delete">X</a></td>\n    `,t.appendChild(s)}static deleteTask(e){e.classList.contains("delete")&&e.parentElement.parentElement.remove()}static showAlert(e,t){const s=document.createElement("div");s.className=`alert alert-${t}`,s.appendChild(document.createTextNode(e));const a=document.querySelector(".container"),n=document.getElementById("task-form");a.insertBefore(s,n),setTimeout((()=>document.querySelector(".alert").remove()),2e3)}static clearFields(){document.getElementById("name").value="",document.getElementById("priority").value="",document.getElementById("deadline").value=""}}document.addEventListener("DOMContentLoaded",s.displayTasks),document.getElementById("task-form").addEventListener("submit",(a=>{a.preventDefault();const n=document.getElementById("name").value,d=document.getElementById("priority").value,l=document.getElementById("deadline").value;if(""===n||""===d||""===l)s.showAlert("Please fill in all fields","danger");else{const a=t.getTasks(),c=Math.max(...a.map((e=>e.taskID)),-1)+1,o=new e(n,d,l,c);s.addTaskToList(o),t.addTask(o),s.showAlert("Task added","success"),s.clearFields()}})),document.getElementById("task-list").addEventListener("click",(e=>{s.deleteTask(e.target),t.deleteTask(+e.target.parentElement.previousElementSibling.textContent),s.showAlert("Task removed","success")}))})();